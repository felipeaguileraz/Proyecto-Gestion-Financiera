<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Felipe Aguilera">

<title>Proyecto Gestión Financiera</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Plantilla_files/libs/clipboard/clipboard.min.js"></script>
<script src="Plantilla_files/libs/quarto-html/quarto.js"></script>
<script src="Plantilla_files/libs/quarto-html/popper.min.js"></script>
<script src="Plantilla_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Plantilla_files/libs/quarto-html/anchor.min.js"></script>
<link href="Plantilla_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Plantilla_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Plantilla_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Plantilla_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Plantilla_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Proyecto Gestión Financiera</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Felipe Aguilera </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="descripción-activo-y-contexto-hito-1" class="level2">
<h2 class="anchored" data-anchor-id="descripción-activo-y-contexto-hito-1">Descripción Activo y Contexto (Hito 1)</h2>
<p>Fecha de entrega: Jueves 28 de Septiembre 23:59.</p>
<section id="definición" class="level3">
<h3 class="anchored" data-anchor-id="definición">Definición</h3>
<p>Banco Santander es una de los bancos más grandes del mundo, debido a su gran presencia en múltiples países. Este es un banco de origen español, que tiene sedes en Chile. Es por esto, que en el IPSA, se puede encontrar como “BSANTANDER”, que hace referencia a la empresa “BANCO SANTANDER CHILE”, y no solamente “BANCO SANTANDER”. En Chile, es el banco más grande del país. Este banco pertenece a la industria de la banca (industria financiera), cuyo sector ofrece servicios financieros, como por ejemplo ofrecer prestamos personales. En “<a href="https://www.webofscience.com/wos/woscc/full-record/WOS:000436492100012">Web of Science</a>”, encontré un articulo sobre el efecto de bancos extranjeros en la “performance” o rendimiento de bancos, en paises en vías de desarrollo, el cual explicaré un poco mas a fondo en la sección de motivación. Lo interesante del paper es que analiza el efecto de bancos extranjeros en Chile.</p>
<p>El activo BSAC tiene un valor promedio para el intervalo igual a 19</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Plantilla_files/figure-html/CMPCline-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Plantilla_files/figure-html/CMPCcandle-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="motivación" class="level3">
<h3 class="anchored" data-anchor-id="motivación">Motivación</h3>
<p>La razón por la que yo escogí Banco Santander, es porque este es el banco mas grande en Chile, siendo este de procedencia español. Además de esto, Banco Santander es uno de los bancos mas grandes del mundo, por lo que me interesa aprender sobre este, para ver las razones de su éxito. Sumado a esto, en la página de “Web of Science”, encontré un articulo sobre el <a href="https://www.webofscience.com/wos/woscc/full-record/WOS:000436492100012">efecto de bancos extranjeros</a> en la “performance” o rendimiento de bancos, en paises en vías de desarrollo. Los resultados de una regresión, de datos obtenidos de los estados financieros indican que los bancos extranjeros mejoran la competitividad de la industria bancaria, reduciendo la volatilidad de los retornos, e incrementando el préstamo de consumo. La evidencia muestra que en la presencia de instituciones solidas, los bancos extranjeros mejoran el sector bancario en paises que están en vias de desarrollo. El paper especificamente analiza el caso de Chile, siendo este un paper de cuartil 1. Esto me motiva aprender de la industria bancaria, ya que tiene una gran repercusión en la sociedad.</p>
<p>Una de las cosas que mas me motiva de estudiar al Banco Santander, es que es considerado el único banco, que es parte de las empresas que están <a href="https://www.eldinamo.cl/mundo/2023/09/27/segun-revista-fortune-santander-es-parte-de-las-empresas-que-estan-cambiando-el-mundo/">cambiando al mundo</a>, debido a su innovación, educación, emprendimiento y empleabilidad.</p>
</section>
<section id="contexto" class="level3">
<h3 class="anchored" data-anchor-id="contexto">Contexto</h3>
<p>Los 3 activos que voy a estudiar son:</p>
<ul>
<li><p>Precio de la acción del Banco Santander</p></li>
<li><p>Precio del dolar</p></li>
<li><p>Tasa de interés</p></li>
</ul>
<p>El precio de la acción tiene relación con la industria bancaria y especialmente el Banco Santander, ya que en base al precio de este, se puede ver como le está yendo al banco y cual es la perspectiva que tiene la gente de este. A un mayor precio de acción (en comparación al promedio de la industria), se puede decir que la perspectiva que tiene la gente del banco es buena, ya que, el precio al ser los flujos futuros traídos a valor presente, indica que en un futuro creen que al banco le ira bien. Sumado a eso, la gran cantidad de inversiones que realiza el banco, al ser un banco internacional, implica que el banco se esta expandiendo y por ende, es un banco con una buena proyección, lo cual incrementa su precio de la acción.</p>
<p>El precio del dolar tiene relación con la industria bancaria, ya que este afecta directamente en la economía nacional. Sumado a eso, la mayoría de inversiones realizadas en el extranjero son en la divisa del dólar, por lo que dependiendo del rendimiento de este, se podrá obtener un mayor o menor retorno. Además, la mayoría de transacciones que realiza un banco son en la divisa del dolar, por lo que su precio afecta al monto de transacción. Sumado a eso, el Banco Santander es un banco internacional que esta en múltiples paises, por lo que ellos utilizan mucho el dólar para facilitar el movimiento de dinero, y es debido a esto que el precio de este activo les afecta.</p>
<p>La tasa de interés tiene relación con la industria bancaria, ya que esta afecta al interés que ofrece el banco a sus créditos, entre otras cosas. Sumado a eso, a mayor inflación, se va a tener una mayor tasa de interés, lo que va afectar en el consumo del consumidor, es decir, va a consumir menos y por ende utilizará un menor crédito de consumo, lo cual afectará negativamente al banco. Sin embargo, a una mayor tasa de interés, el banco genera una mayor cantidad de retornos, lo cual afecta positivamente al banco. Como el Banco Santander es parte de la industria bancaria, la tasa de interés les afecta.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Plantilla_files/figure-html/context-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Ejemplos:</p>
<p>Precio de la acción para los últimos 6 meses:</p>
<div class="columns">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="photos/Captura%20de%20Pantalla%202023-09-26%20a%20la(s)%2021.37.27.png" class="img-fluid figure-img" width="2280"></p>
</figure>
</div><p>Precio del dólar para los últimos 3 meses:</p><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="photos/Captura%20de%20Pantalla%202023-09-26%20a%20la(s)%2021.33.29.png" class="img-fluid figure-img"></p>
</figure>
</div><p>Tasa de interés para el último año:</p>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="photos/BCChChart_20230926092858.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="análisis-de-largo-plazo" class="level3">
<h3 class="anchored" data-anchor-id="análisis-de-largo-plazo">Análisis de Largo Plazo</h3>
<p>El Banco Santander Chile tiene un total de <strong>188.446.126.794</strong> acciones comunes, es decir, acciones que “no tienen preferencia especial ya sea en el pago de dividendos o en caso de quiebra” (<em>Capítulo 15 RWJ</em>). A mayor cantidad de acciones comunes que uno tenga, mayor será la participación, por ejemplo, en votaciones, y mayor parte del patrimonio uno va a tener. Banco Santander Chile utiliza la votación acumulativa, es decir que se escojen a todos los consejeros de una vez y permite la participación minoritaria.</p>
<p>Por el otro lado, las acciones preferentes, dan preferencia sobre el pago de dividendos y sobre la distribución de los activos en el caso de que la empresa los liquide. Sumado a eso, los tenedores de acciones preferentes no tienen derecho a votación. En el año 2020, Banco Santander realizó una inversión de <strong>1.500.000.000</strong> euros para la <a href="https://www.santander.com/content/dam/santander-com/es/documentos/hechos-relevantes-c-n-m-v-/2020/01/hr-2020-01-09-banco-santander-comunica-que-ha-llevado-a-cabo-una-colocacion-de-participaciones-preferentes-contingentemente-convertibles-en-acciones-ordinarias-del-banco-de-nueva-emision-es.pdf">colocación de acciones preferentes</a>. La cantidad de acciones preferentes que existen actualmente en la compañia fue un dato que no logré encontrar.</p>
<p>Por el lado de la deuda, la cantidad de deuda emitida que tiene Banco Santander Chile es de <strong>7.636.954 MM dólares</strong> (<a href="https://santandercl.gcs-web.com/static-files/f1fec6dd-6cd8-47fc-9243-3ff498802f97">estados de resultado junio 2023</a>). Esto convierte a Banco Santander Chile en un deudor. Es importante saber que la deuda no es parte de la propiedad de la empresa, por lo que los acreedores no tienen derecho a votación. También, el pago de intereses sobre la deuda, se considera un costo de hacer negocios, por lo que es deducible de impuestos. La deuda sin pagar, es considerada un pasivo de la empresa. En el caso que no se pague, los acreedores pueden reclamar legalmente los activos de esta. En el año 2021, Banco Santander Chile fue el <a href="https://www.df.cl/mercados/banca-fintech/santander-chile-debuta-como-primer-emisor-de-un-bono-perpetuo-coloca">primero en emitir un bono perpetuo</a> de US 700 millones. La tasa de este bono fue de 4,625% anual. Sumado a esto, es importante notar que el ranking crediticio que Standard and Poor´s tiene de Banco Santander Chile es de A-, el cual es un ranking bastante elevado, es decir que la probabilidad de que este banco no cumpla con sus obligaciones de pago, es baja. Finalmente, el 31 de julio de 2023, Banco Santander Chile emitió un <a href="https://santandercl.gcs-web.com/es/deuda-y-riesgo-de-mercado?a3d508f2_year%5Bvalue%5D=2022&amp;a3d508f2_widget_id=a3d508f2&amp;form_build_id=form-wrinoJI9jJ7JBU-V84KfioD5Zm16QERgnK5LjKtsKIw&amp;form_id=widget_form_base#wdms-form-0">bono titulizado</a>, con un monto de colocación de 1.500.000 UF, una tasa de colocación de 2,44% y una tasa cupón de 3,20%. La moneda de colocación era UF y fue emitido por una duración de 15 años aproximadamente.</p>
<p>Ranking crediticio Banco Santander Chile (Standard and Poor´s):</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="photos/Captura%20de%20Pantalla%202023-09-27%20a%20la(s)%2013.22.10.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>Bono titulizado emitido el 31 de julio:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="photos/Captura%20de%20Pantalla%202023-09-27%20a%20la(s)%2013.33.05.png" class="img-fluid figure-img"></p>
</figure>
</div>
<section id="caracterización-de-emisiones-históricas" class="level4">
<h4 class="anchored" data-anchor-id="caracterización-de-emisiones-históricas">Caracterización de emisiones históricas</h4>
<p>El Banco Santander Chile ha realizado dos <a href="https://www.cmfchile.cl/institucional/estadisticas/acc_registro1.php?lang=es">emisiones de acciones</a>, la primera el 8 de octubre del año 1996, emitiendo un total de <strong>196.919.579</strong> acciones. La segunda emisión de acciones fue realizada el 12 de agosto del año 1998, emitiendo un total de <strong>72.904.230</strong> acciones. Respecto al proceso de emisión y al paso a paso, no fue posible encontrar información.</p>
<p>Emisión de acciones del Banco Santander Chile:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="photos/Captura%20de%20Pantalla%202023-09-27%20a%20la(s)%2020.58.05.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="relación-con-activos-derivados" class="level4">
<h4 class="anchored" data-anchor-id="relación-con-activos-derivados">Relación con activos derivados</h4>
<p>Un derivado relacionado con la industria bancaria y el Banco Santander Chile, es un forward de tipo de cambio. El forward de tipo de cambio, es un acuerdo entre dos partes (ej: el banco y un agricultor), en el que se obligan a cambiar en una fecha futura ya establecida, un monto determinado de una moneda por otra. Ej: Un agricultor y el banco, acuerdan cambiar en 1 año el dolar a 800 pesos, independiente de si el precio del dolar esta más arriba o más abajo del precio pactado (agricultor esta vendiendo dólares al banco). Si el precio del dólar a 1 año es superior a 800 pesos, entonces el agricultor sale perdiendo, ya que estaría obteniendo menos pesos por dólar que le entrega al banco, mientras que si el precio del dólar a 1 año es inferior a 800 pesos, entonces el agricultor sale ganando, ya que estaría obteniendo mas pesos por dólar intercambiado con el banco.</p>
<p>Este derivado es importante para el Banco Santander Chile, ya que le sirve para mitigar el riesgo de tipo de cambio. Es decir, que al definir un precio de tipo de cambio hoy, se están protegiendo contra los eventuales cambios en el precio del tipo de cambio, y así estabilizar los flujos de caja futuros.</p>
<p>Algunos derivados que tiene Banco Santander Chile al 30 de junio 2023:</p>
<p><img src="photos/Captura%20de%20Pantalla%202023-09-27%20a%20la(s)%2021.27.41.png" class="img-fluid"></p>
<p><a href="https://www.siid.cl/web/siid/monitor-diario">Gráfico de evolución</a> derivado más tipo de cambio spot:</p>
<p><img src="photos/Captura%20de%20Pantalla%202023-09-27%20a%20la(s)%2021.28.10.png" class="img-fluid"></p>
</section>
</section>
<section id="reporte-grupal" class="level3">
<h3 class="anchored" data-anchor-id="reporte-grupal">Reporte grupal</h3>
<p>Los pesos para el portafolio son:</p>
<ul>
<li><p>50% banco (Banco Santander Chile)</p></li>
<li><p>35% energía (COPEC)</p></li>
<li><p>15% inmobiliaria (Parque Arauco)</p></li>
</ul>
<p>Escogimos esta distribución ya que actualmente, con las altas tasas de interés, producto de la inflación, los bancos han generado un mayor retorno, lo cual incrementa el ingreso y por ende tienen más dinero para realizar inversiones, lo que puede provocar un aumento en su precio de acción. Sumado a esto, Banco Santander Chile ha realizado varias inversiones últimamente, como el aumento de cajeros automaticos. Es debido a esto que le otorgamos un 50% de peso al banco, ya que es la entidad que más retornos nos va a producir. Para poder diversificar el portafolio, le colocamos un 35% al sector de energía, ya que es un sector “neutro”, al cual no le ha ido bien ni mal, sin embargo es un sector de commodity, por lo cual es usado por toda la población y por ende, su aumento o disminución en el precio no es muy notable. Además de eso, Copec es una empresa que ha invertido en movilidad electrica, por lo que creemos que a largo plazo, este activo nos va a generar rentabilidad. Finalmente, otorgamos un 15% al sector inmobiliario, ya que actualmente es un sector que ha sido muy repercutido por la inflación y las altas tasas de interés, lo que produjo que su precio de acción disminuyera bastante. Creemos que esta tendencia seguirá, por lo que le otorgamos un menor peso en el portafolio. Por el otro lado, últimamente, Parque Arauco ha realizado inversiones en el extranjero, por lo que creemos que en un futuro, el precio de la acción va a incrementar, pero no en gran medida, debido a lo dañado que esta el sector de la inmobiliaria. Es debido a esto, que le otorgamos un peso “alto” a pesar de lo afectado que esta el área.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>